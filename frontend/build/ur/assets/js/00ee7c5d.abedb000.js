"use strict";(globalThis.webpackChunkhumanoid_robotics_textbook=globalThis.webpackChunkhumanoid_robotics_textbook||[]).push([[224],{7267(e,s,a){a.r(s),a.d(s,{default:()=>T});var r=a(6540),t=a(1656),c=a(8774),n=a(8748),i=a(4746);const o={card:"card_NTrb",cardHeader:"cardHeader_JcOf",cardTitle:"cardTitle_F2rE",count:"count_vfD0",overallProgress:"overallProgress_HviF",avgScore:"avgScore_N8sC",progressBar:"progressBar_smjt",progressFill:"progressFill_hfbM",chapterList:"chapterList_W33O",chapterItem:"chapterItem_mLB3",chapterInfo:"chapterInfo_M0FW",chapterLink:"chapterLink_YYSb",chapterMeta:"chapterMeta_UqgJ",statusBadge:"statusBadge_o9Qp",completed:"completed_VH0b",in_progress:"in_progress_ED3V",not_started:"not_started_t48j",timeSpent:"timeSpent_wq1s",chapterProgressBar:"chapterProgressBar_iHfu",chapterProgressFill:"chapterProgressFill_Vq1A",emptyState:"emptyState_aUlP",emptyIcon:"emptyIcon_c6p0",emptyHint:"emptyHint_cGTF",bookmarkList:"bookmarkList_xRo2",bookmarkItem:"bookmarkItem_EfNs",bookmarkLink:"bookmarkLink_GHqc",bookmarkTitle:"bookmarkTitle_ztck",bookmarkIcon:"bookmarkIcon_jy2J",bookmarkContent:"bookmarkContent_izxQ",bookmarkMeta:"bookmarkMeta_ZuGi",bookmarkNote:"bookmarkNote_gyLe",deleteButton:"deleteButton_pNZj",quizList:"quizList_tZCd",quizItem:"quizItem_LM_t",quizInfo:"quizInfo_w2Ay",quizTitle:"quizTitle_Bes0",quizMeta:"quizMeta_jaDH",quizActions:"quizActions_UlFp",quizScore:"quizScore_yGDw",scoreHigh:"scoreHigh_AVfl",scoreMedium:"scoreMedium_rpPW",scoreLow:"scoreLow_rU7n",retryButton:"retryButton_aHC7",recommendationList:"recommendationList_jS0J",recommendationItem:"recommendationItem_bJRj",recommendationIcon:"recommendationIcon_kT6N",recommendationContent:"recommendationContent_j7eJ",recommendationChapter:"recommendationChapter_hb_8",recommendationDesc:"recommendationDesc_Nnbx",recommendationAction:"recommendationAction_VmRc"};var l=a(4848);const d={"chapter-1":"Introduction to Humanoid Robotics","chapter-2":"Robot Components and Architecture","chapter-3":"Sensors and Actuators"};function m(e){if(e<60)return`${e}s`;const s=Math.floor(e/60);if(s<60)return`${s}m`;return`${Math.floor(s/60)}h ${s%60}m`}function h({progress:e,totalChapters:s=3}){const a=e.filter(e=>"completed"===e.status).length,r=s>0?Math.round(a/s*100):0;return(0,l.jsxs)("div",{className:o.card,children:[(0,l.jsxs)("div",{className:o.cardHeader,children:[(0,l.jsx)("h3",{className:o.cardTitle,children:"Reading Progress"}),(0,l.jsxs)("span",{className:o.overallProgress,children:[r,"% Complete"]})]}),(0,l.jsx)("div",{className:o.progressBar,children:(0,l.jsx)("div",{className:o.progressFill,style:{width:`${r}%`}})}),(0,l.jsx)("div",{className:o.chapterList,children:["chapter-1","chapter-2","chapter-3"].map(s=>{const a=e.find(e=>e.chapter_id===s),r=a?.progress_percent||0,t=a?.status||"not_started",n=a?.time_spent_seconds||0;return(0,l.jsxs)("div",{className:o.chapterItem,children:[(0,l.jsxs)("div",{className:o.chapterInfo,children:[(0,l.jsx)(c.A,{to:`/${s}`,className:o.chapterLink,children:d[s]||s}),(0,l.jsxs)("div",{className:o.chapterMeta,children:[(0,l.jsx)("span",{className:`${o.statusBadge} ${o[t]}`,children:"completed"===t?"Completed":"in_progress"===t?"In Progress":"Not Started"}),n>0&&(0,l.jsx)("span",{className:o.timeSpent,children:m(n)})]})]}),(0,l.jsx)("div",{className:o.chapterProgressBar,children:(0,l.jsx)("div",{className:o.chapterProgressFill,style:{width:`${r}%`}})})]},s)})})]})}const p={"chapter-1":"Chapter 1","chapter-2":"Chapter 2","chapter-3":"Chapter 3"};function u({bookmarks:e,onDelete:s}){return 0===e.length?(0,l.jsxs)("div",{className:o.card,children:[(0,l.jsx)("div",{className:o.cardHeader,children:(0,l.jsx)("h3",{className:o.cardTitle,children:"Bookmarks"})}),(0,l.jsxs)("div",{className:o.emptyState,children:[(0,l.jsx)("span",{className:o.emptyIcon,children:"\ud83d\udd16"}),(0,l.jsx)("p",{children:"No bookmarks yet"}),(0,l.jsx)("span",{className:o.emptyHint,children:"Save your place while reading chapters"})]})]}):(0,l.jsxs)("div",{className:o.card,children:[(0,l.jsxs)("div",{className:o.cardHeader,children:[(0,l.jsx)("h3",{className:o.cardTitle,children:"Bookmarks"}),(0,l.jsx)("span",{className:o.count,children:e.length})]}),(0,l.jsx)("ul",{className:o.bookmarkList,children:e.map(e=>{const a=e.section_id?`/${e.chapter_id}#${e.section_id}`:`/${e.chapter_id}`;return(0,l.jsxs)("li",{className:o.bookmarkItem,children:[(0,l.jsxs)(c.A,{to:a,className:o.bookmarkLink,children:[(0,l.jsx)("span",{className:o.bookmarkIcon,children:"\ud83d\udd16"}),(0,l.jsxs)("div",{className:o.bookmarkContent,children:[(0,l.jsx)("span",{className:o.bookmarkTitle,children:e.title}),(0,l.jsxs)("span",{className:o.bookmarkMeta,children:[p[e.chapter_id]||e.chapter_id," \u2022 ",(r=e.created_at,new Date(r).toLocaleDateString(void 0,{month:"short",day:"numeric"}))]}),e.note&&(0,l.jsx)("span",{className:o.bookmarkNote,children:e.note})]})]}),s&&(0,l.jsx)("button",{className:o.deleteButton,onClick:a=>{a.preventDefault(),s(e.id)},"aria-label":"Delete bookmark",children:"\xd7"})]},e.id);var r})})]})}const j={"chapter-1-quiz":"Introduction to Humanoid Robotics","chapter-2-quiz":"Robot Components and Architecture","chapter-3-quiz":"Sensors and Actuators"};function x({attempts:e}){if(0===e.length)return(0,l.jsxs)("div",{className:o.card,children:[(0,l.jsx)("div",{className:o.cardHeader,children:(0,l.jsx)("h3",{className:o.cardTitle,children:"Quiz History"})}),(0,l.jsxs)("div",{className:o.emptyState,children:[(0,l.jsx)("span",{className:o.emptyIcon,children:"\ud83d\udcdd"}),(0,l.jsx)("p",{children:"No quizzes taken yet"}),(0,l.jsx)("span",{className:o.emptyHint,children:"Complete chapters and test your knowledge"})]})]});const s=e.reduce((e,s)=>e+s.score,0)/e.length;return(0,l.jsxs)("div",{className:o.card,children:[(0,l.jsxs)("div",{className:o.cardHeader,children:[(0,l.jsx)("h3",{className:o.cardTitle,children:"Quiz History"}),(0,l.jsxs)("span",{className:o.avgScore,children:["Avg: ",s.toFixed(0),"%"]})]}),(0,l.jsx)("ul",{className:o.quizList,children:e.map(e=>{const s=e.quiz_id?.replace("-quiz","")||"",a=j[e.quiz_id]||e.quiz_id;return(0,l.jsxs)("li",{className:o.quizItem,children:[(0,l.jsxs)("div",{className:o.quizInfo,children:[(0,l.jsx)("span",{className:o.quizTitle,children:a}),(0,l.jsxs)("span",{className:o.quizMeta,children:[e.correct_answers,"/",e.total_questions," correct",e.completed_at&&(0,l.jsxs)(l.Fragment,{children:[" \u2022 ",(t=e.completed_at,new Date(t).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))]})]})]}),(0,l.jsxs)("div",{className:o.quizActions,children:[(0,l.jsxs)("span",{className:`${o.quizScore} ${r=e.score,r>=80?o.scoreHigh:r>=60?o.scoreMedium:o.scoreLow}`,children:[e.score.toFixed(0),"%"]}),(0,l.jsx)(c.A,{to:`/quiz/${s}`,className:o.retryButton,children:"Retry"})]})]},e.id);var r,t})})]})}const N={"chapter-1":"Introduction to Humanoid Robotics","chapter-2":"Robot Components and Architecture","chapter-3":"Sensors and Actuators"};function _(e){switch(e){case"continue":return"\ud83d\udcd6";case"start":return"\ud83d\ude80";case"quiz":return"\ud83d\udcdd";case"retry_quiz":return"\ud83d\udd04";default:return"\ud83d\udca1"}}function k(e){switch(e.type){case"quiz":case"retry_quiz":return`/quiz/${e.chapter_id}`;default:return`/${e.chapter_id}`}}function b(e){switch(e){case"continue":return"Continue";case"start":return"Start";case"quiz":return"Take Quiz";case"retry_quiz":return"Retry Quiz";default:return"Go"}}function g({recommendations:e}){return 0===e.length?(0,l.jsxs)("div",{className:o.card,children:[(0,l.jsx)("div",{className:o.cardHeader,children:(0,l.jsx)("h3",{className:o.cardTitle,children:"Recommendations"})}),(0,l.jsxs)("div",{className:o.emptyState,children:[(0,l.jsx)("span",{className:o.emptyIcon,children:"\ud83c\udf89"}),(0,l.jsx)("p",{children:"Great job!"}),(0,l.jsx)("span",{className:o.emptyHint,children:"You're all caught up. Keep exploring!"})]})]}):(0,l.jsxs)("div",{className:o.card,children:[(0,l.jsx)("div",{className:o.cardHeader,children:(0,l.jsx)("h3",{className:o.cardTitle,children:"Recommended Next Steps"})}),(0,l.jsx)("ul",{className:o.recommendationList,children:e.map((e,s)=>(0,l.jsxs)("li",{className:o.recommendationItem,children:[(0,l.jsx)("span",{className:o.recommendationIcon,children:_(e.type)}),(0,l.jsxs)("div",{className:o.recommendationContent,children:[(0,l.jsx)("span",{className:o.recommendationChapter,children:N[e.chapter_id]||e.chapter_id}),(0,l.jsx)("span",{className:o.recommendationDesc,children:e.description})]}),(0,l.jsx)(c.A,{to:k(e),className:o.recommendationAction,children:b(e.type)})]},s))})]})}const v="container_SwTr",z="loading_MGGd",y="spinner_YaWo",q="error_Zj6d",f="authPrompt_zTXN",I="authButtons_tJaF",S="header_djqj",C="statsRow_wgcY",A="stat_MvQU",H="statValue_caPg",L="statLabel_eVgR",w="grid_b2KH";function T(){const{user:e,isAuthenticated:s,isLoading:a}=(0,n.As)(),[o,d]=(0,r.useState)(null),[m,p]=(0,r.useState)(!0),[j,N]=(0,r.useState)(null);(0,r.useEffect)(()=>{a||async function(){if(s)try{p(!0),N(null);const e=await(0,i.Jt)("/api/user/dashboard");d(e)}catch(e){console.error("Failed to fetch dashboard data:",e),N("Failed to load dashboard data. Please try again.")}finally{p(!1)}else p(!1)}()},[s,a]);if(a||m)return(0,l.jsx)(t.A,{title:"Dashboard",description:"Your personalized learning dashboard",children:(0,l.jsx)("main",{className:v,children:(0,l.jsxs)("div",{className:z,children:[(0,l.jsx)("div",{className:y}),(0,l.jsx)("p",{children:"Loading your dashboard..."})]})})});if(!s)return(0,l.jsx)(t.A,{title:"Dashboard",description:"Your personalized learning dashboard",children:(0,l.jsx)("main",{className:v,children:(0,l.jsxs)("div",{className:f,children:[(0,l.jsx)("h1",{children:"Welcome to Your Dashboard"}),(0,l.jsx)("p",{children:"Sign in to track your learning progress and access personalized features."}),(0,l.jsxs)("div",{className:I,children:[(0,l.jsx)(c.A,{to:"/login",className:"button button--primary button--lg",children:"Sign In"}),(0,l.jsx)(c.A,{to:"/register",className:"button button--outline button--primary button--lg",children:"Create Account"})]})]})})});if(j)return(0,l.jsx)(t.A,{title:"Dashboard",description:"Your personalized learning dashboard",children:(0,l.jsxs)("main",{className:v,children:[(0,l.jsx)("div",{className:S,children:(0,l.jsxs)("h1",{children:["Welcome back, ",e?.display_name||e?.email]})}),(0,l.jsxs)("div",{className:q,children:[(0,l.jsx)("p",{children:j}),(0,l.jsx)("button",{onClick:()=>window.location.reload(),className:"button button--primary",children:"Retry"})]})]})});const _=o?.progress||[],k=o?.bookmarks||[],b=o?.quiz_history||[],T=o?.recommendations||[],M=o?.stats;return(0,l.jsx)(t.A,{title:"Dashboard",description:"Your personalized learning dashboard",children:(0,l.jsxs)("main",{className:v,children:[(0,l.jsxs)("div",{className:S,children:[(0,l.jsxs)("h1",{children:["Welcome back, ",e?.display_name||e?.email]}),(0,l.jsx)("p",{children:"Track your progress and continue learning humanoid robotics."})]}),M&&(0,l.jsxs)("div",{className:C,children:[(0,l.jsxs)("div",{className:A,children:[(0,l.jsx)("span",{className:H,children:M.completed_chapters}),(0,l.jsx)("span",{className:L,children:"Chapters Completed"})]}),(0,l.jsxs)("div",{className:A,children:[(0,l.jsx)("span",{className:H,children:M.total_time_minutes}),(0,l.jsx)("span",{className:L,children:"Minutes Reading"})]}),(0,l.jsxs)("div",{className:A,children:[(0,l.jsx)("span",{className:H,children:M.quizzes_taken}),(0,l.jsx)("span",{className:L,children:"Quizzes Taken"})]}),(0,l.jsxs)("div",{className:A,children:[(0,l.jsx)("span",{className:H,children:M.average_quiz_score>0?`${M.average_quiz_score}%`:"-"}),(0,l.jsx)("span",{className:L,children:"Avg Quiz Score"})]})]}),(0,l.jsxs)("div",{className:w,children:[(0,l.jsx)(h,{progress:_,totalChapters:3}),(0,l.jsx)(x,{attempts:b}),(0,l.jsx)(u,{bookmarks:k,onDelete:async e=>{try{await(0,i.yH)(`/api/user/bookmarks/${e}`),o&&d({...o,bookmarks:o.bookmarks.filter(s=>s.id!==e)})}catch(s){console.error("Failed to delete bookmark:",s)}}}),(0,l.jsx)(g,{recommendations:T})]})]})})}}}]);